import sys
import os

# Add the project root directory to the Python path
project_root = os.path.abspath(os.path.join(os.path.dirname(__file__), '..'))
sys.path.insert(0, project_root)

from evm_decoder import DecoderManager

# Initialize the DecoderManager
decoder_manager = DecoderManager()

# Example transaction data
transaction_data = {
    'input': '0x0162e2d000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001600000000000000000000000007a250d5630b4cf539739df2c5dacb4c659f2488d0000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000354a6ba7a18000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000038d7ea4c680000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000045f13d3239fd53f0c524c50862c278d89989c49'
}

# Decode the transaction
result = decoder_manager.decode(transaction_data)
print("Transaction decode result:", result)

# Example event data
event_data = {
    'topics': [
        '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',
        '0x000000000000000000000000e82701fd630c91d35cdb923516c6a466ecdd0d05',
        '0x000000000000000000000000b8faa80fe04a4afd30c89f40e4fcdc6dafb274d9'
    ],
    'data': '0x000000000000000000000000000000000000000000071f0a60a573248da706ca'
}

# Decode the event
result = decoder_manager.decode(event_data)
print("Event decode result:", result)

event_data = {
    'topic0': '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',
    'topic1': '0x000000000000000000000000e82701fd630c91d35cdb923516c6a466ecdd0d05',
    'topic2': '0x000000000000000000000000b8faa80fe04a4afd30c89f40e4fcdc6dafb274d9',
    'data': '0x000000000000000000000000000000000000000000071f0a60a573248da706ca'
}

# Decode the event
result = decoder_manager.decode(event_data)
print("Event decode result:", result)